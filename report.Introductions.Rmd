---
title: "Introduction"
author: "Thomas Gredig"
date: "11/28/2019"
params:
  path.RAWb: '.'
output:
  powerpoint_presentation: default
  slidy_presentation: default
  beamer_presentation: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

library(pdftools)
library(stringr)
source('config.R')

file.list = file.path(path.RAW,
                      dir(path.RAW, 
                          pattern='.*\\.pdf$', 
                          recursive = FALSE))

r = data.frame()
for(filename in file.list[1:100]) {
  q = pdf_text(filename)
  
  # find individual sentences
  q1 = unlist(strsplit(q,'\n'))
  
  title.firstword = strsplit(filename, '_')[[1]][2]
  
  # find introduction paragraph
  m = grep('introduction',q1,ignore.case = TRUE)
  if(length(m)>0) {
    m = m[1]
    grep(title.firstword,q1,ignore.case = TRUE)[1] -> m1
    title = gsub('\\s\\s+',' ',q1[m1])
    intro.text = gsub('\\s\\s+',' ',paste(q1[(m):(m+4)],collapse=' '))
    r = rbind(r,
              data.frame(
                title,
                intro = str_replace_all(intro.text, "[[:punct:]]", " ")
              ))
  }
}
r = as.data.frame(lapply(r, as.character))
r$title <- gsub("[^[:alnum:][:blank:]?&/\\-]", "", r$title)
r$intro <- gsub("[^[:alnum:][:blank:]?&/\\-]", "", r$intro)
r$all = paste('\n## ',r$title,'\n',r$intro,'\n')

```

## R Markdown

This presentation summarizes papers in the folder `r path.RAW`. It analyzed `r nrow(r)` papers, which are listed in alphabetical order by author on the next slides.


`r paste(r$all, collapse='')`



